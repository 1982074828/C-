# 指针

> 内存
>
> 内存是电脑上特别重要的存储器，计算机中所有程序都是在内存中进行的。
>
> 所以为了有效的使用内存，就要把内存划分为一个个小的内存单元，每个内存单元的大小是一个字节。
>
> 为了能够有效的访问到内存的每个单元，就给内存单元进行了编号，这些编号被称为内存单元地址



> 32位
>
> 32根地址线/数据线
>
> 有正电和负电之分---正为1，负为0
>
> 所以32根地址线就有很多种可能
>
> 00000000000000000000000000000000----------0
>
> 00000000000000000000000000000001------------1
>
> 00000000000000000000000000000010-----------2
>
> ......
>
> 0111111111111111111111111111111111111
>
> 10000000000000000000000000000000
>
> .....
>
> 1111111111111111111111111111111111111
>
> 总共2^32个内存编号
>
> 和内存单元相匹配

> 1.如果一个内存单元对应一个bit位
>
> 2^32个地址单元只能访问0.5个GB
>
> 所以bit不合适
>
> 2.对应一个byte
>
> 那就是4G
>
> 合适
>
> 所以，一个内存单元是一个字节（byte）

## 取地址

```c
int main()
{
    int a =10;//4个字节，但是如何知道是在哪里呢？如何找到它在内存里的位置呢？
    //取地址操作符&
    &a;//取出a的地址
    printf("%p\n",&a);//0058F734
    return 0;
}
```

## 存放地址-----指针变量

```c
int main()
{
    int a =10;
    int* p = &a;//p的类型叫int*，int*是p的类型，p叫指针变量
    //有一种变量是用来存放地址的-----指针变量
    printf("%p\n",&a);
    printf("%p\n",p);
   //将a的地址存放到p里就是为了下一次更好的找到a的地址
    *p = 20;//*---解引用操作符:找到它所指向的对象a,间接访问操作符
    printf("%d\n",a);//20
    return 0;
}
```



## 解释代码

```c
int a = 10;
//向内存申请一个空间将a存放进去地址为00x0010ff40

int* p = &a;
//将a的地址00x0010ff40存放到p变量中去，通过地址就很好找到a

*p = 20;
//找的方式就是*p，*P就是a，然后把a的值改为20
```



## 举例

```c
int main()
{
    char ch = 'w';
    char* pc=&ch:
    *pc = 'a';
    printf("%c\n",ch);
    return 0;
}
```



## 指针变量的大小

- 总结：指针大小在32位平台是4个字节，64位平台是8个字节。

- ```c
  int main()
  {
      char ch = 'w';
      char* pc=&ch:
      printf("%d\n",sizeof(pc));//4/8
  
      return 0;
  }
  ```

  
  
  
  
  

##  指针变量的其他类型和大小

```c
int main()
{
    double d = 3.14;
    double* pd = &d;//指针变量的类型与要取地址的变量的类型相同，32--4//64---8
    *pd=5.5;
    printf("%lf\n",d);
    printf("%lf\n",pd);
    printf("%d\n",sizeof(pd)); //4,8
    return 0;
}
```



- 不管指针的类型是char还是int或者其他的等等类型，它在内存中的大小一定为4/8，32位为4，64位为8.



